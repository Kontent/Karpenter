MooDialog.Confirm=new Class({Extends:MooDialog,options:{okText:"Ok",cancelText:"Cancel",focus:true,textPClass:"MooDialogConfirm"},initialize:function(g,e,d,b){this.parent(b);var c=function(){},a=this;var f=[{fn:e||c,txt:this.options.okText},{fn:d||c,txt:this.options.cancelText}].map(function(h){return new Element("input[type=button]",{events:{click:function(){h.fn();a.close()}},value:h.txt})});this.setContent(new Element("p."+this.options.textPClass,{text:g}),new Element("div.buttons").adopt(f));if(this.options.autoOpen){this.open()}if(this.options.focus){this.addEvent("show",function(){f[1].focus()})}}});Element.implement({confirmLinkClick:function(b,a){this.addEvent("click",function(c){c.stop();new MooDialog.Confirm(b,function(){location.href=this.get("href")}.bind(this),null,a)});return this},confirmFormSubmit:function(b,a){this.addEvent("submit",function(c){c.stop();new MooDialog.Confirm(b,function(){this.submit()}.bind(this),null,a)}.bind(this));return this}});